# Ch6 객체 지향 프로그래밍 1

## 오버로딩
- 한 클래스 내에서 메서드의 이름이 같아도 매개변수의 개수와 타입에 따라 구분이 가능함
- 오버로딩된 메서드를 구분하는 것은 매개변수 이므로 반환 타입은 영향이 없다
- println이 대표적인 예시이다
  - 어떤 종류의 메서드를 지정해도 출력할 수 있도록 10개의 오버로딩된 println 메서드가 정의 되어있음

### 오버로딩의 장점
같은 기능을 하지만 매개변수를 다르게 해야할 경우 이름을 매번 달리 하면 정의하기도 힘들고 사용시에 이름을 기억하기도 힘들기 때문에 이름을 통일하면서 이를 해결해줄 수 있음

### 가변인자
매배변수의 개수를 동적으로 지정해 줄 수 있음
- 타입... 변수명
  - ex) public PrintStream printf (String format, Object... args)
  - 문자열을 하나로 결합하여 반환하는 함수 String concatenate (String... str)
- 가변인자는 맨 마지막에 선언해야함
- 배열도 전달이 가능함  
  - ex) concatenate (new String[]{"A", "B"});

가변인자는 호출시 마다 내부적으로 배열을 새로 생성하여 메서드 내에서 사용함
- 대표적으로 printf 함수는 인자값으로 "문자열과 %d, %s과 같은 지시자", 변수 를 가지는데 뒤에 오는 변수의 개수는 가변적이고 계속 늘어날 수 있기 때문에 가변인자를 사용하여 마음껏 쓸 수 있게 만듦
    - public PrintStream printf (String format, Object... args)

## 생성자

인스턴스가 생성될 때 호출되는 인스턴스 초기화 메서드  
```java
Card c = new Card("KIM", "Bank", 1, 2024);
```
1. 연산자 new에 의해 메모리의 힙 영역에 Card 클래스의 인스턴스 생성
2. 생성자 Card()가 호출되어 수행
3. 연산자 new의 결과로, 생성된 Card 인스턴스의 주소가 반환되어 참조변수 c에 저장

### 기본 생성자
컴파일 시에 소스파일(.java)의 클래스에 ***생성자가 하나도 정의되지 않은 경우*** 컴파일러가 자동적으로 기본 생성자를 추가하여 컴파일 함
```java
Card() {} //클래스의 접근 제어자를 따라감
```

### this(), this
this 는 인스턴스 자신을 가리키는 참조변수임
```java
Car() {
    this ("white", "auto", 4);
}

Car(String color, String gearType, int door) {
    this.color = color;
    this.gearType = gearType;
    this.door = door;
}
```
이와 같이 생성자에서 생성자를 호출하거나 클래스 내에서 멤버변수를 불럴 올 때 사용함
- 생성자에서 생성자를 호출 할 땐 변경 내용들이 호출한 생성자로 인해 무의미해질 수 있기 때문에 맨 첫줄에서 호출해야함
- this는 인스턴스 멤버에 접근할 때 사용되는 것 이므로 static 메서드에서는 사용할 수 없음

### 복사 생성자
생성자의 매개변수를 인스턴스의 참조변수로 하여 멤버 변수 복사  
Java API의 많은 클래스들이 복사 생성자를 정의해놓고 있으니 참고

## 변수의 초기화
- 인스턴스 변수: 자동적으로 기본값으로 초기화
- 지역 변수: 자동적으로 초기화 되지 않기 때문에 사용전에 초기화 시켜줘야함
  
### 초기화의 방법들
1. 명시적 초기화
2. 생성자
3. 초기화 블럭 : 메서드 내에서와 같이 조건문, 반복문, 예외 처리등 자유롭게 사용 가능, 생성자 보다 먼저 수행됨
    - 클래스 초기화 블럭 static{} : 클래스가 메모리에 처음 로딩될 때 한번 수행됨
    - 인스턴스 초기화 블럭 {} : 인스턴스가 생성될 때 수행 됨
```java
class StaticBlockTest {
    static int[] arr = new int[10];
    static int count = 0;  // 명시적 초기화
    int serialNo;

    static {    // 클래스 초기화 블럭
        void(int i = 0; i<arr.length; i++) {
            arr[i] = (int)(Math.random() * 10) + 1;
        }
    }

    {   // 인스턴스 초기화 블럭
        count++;
        serialNo = count;
    }

    public static void main(String[] args) {
        for (int i = 0; i < arr.length; i++) {
            System.out.println("arr[" + i + "] = " + arr[i]);
        }
    }
}
```

### 멤버변수 초기화 시기와 순서
- 클래스 변수 : 클래스가 처음 메모리에 로딩될 때 한번 초기화 됨
- 인스턴스 변수 : 인스턴스가 생성될 때마다 각 인스턴스별로 초기화 됨
- 순서: 클래스 변수 (기본값 -> 명시적 초기화 -> 초기화 블럭)   
-> 인스턴스 변수 (기본값 -> 명시적 초기화 -> 초기화 블럭 -> 생성자)

